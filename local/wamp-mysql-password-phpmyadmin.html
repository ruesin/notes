<!DOCTYPE HTML>
<html>
  <head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>Wamp下修改mysql的默认空密码并设置phpmyadmin是否验证密码登录-信口开河</title>
    <meta name="keywords" content="Ruesin,信口开河">
    <meta name="description" content="至于你信不信，反正我是信了。">
    <link rel="stylesheet" href="/css/style.css">
</head>
  <body>
    
<header class="header">
    <nav class="navbar">
        <ul>
            
            <li><a class="header-nav-link" href="/">首页</a></li>
            
            <li><a class="header-nav-link" href="/categories">分类</a></li>
            
            <li><a class="header-nav-link" href="/archives">归档</a></li>
            
            <li><a class="header-nav-link" href="/tags">标签</a></li>
            
            <li><a class="header-nav-link" href="https://github.com/ruesin/notes">Github</a></li>
            
            <li><a class="header-nav-link" href="https://ruesin.github.io/php-tree">PHP技能树</a></li>
            
            <li><a class="header-nav-link" href="https://www.xinkoukaihe.com">老博客</a></li>
            
        </ul>
    </nav>
</header>
    <main class="main">
      <!-- 内容页 -->
<section class="section">
    <div class="post-container">
        <div class="post-header">
                <h1>Wamp下修改mysql的默认空密码并设置phpmyadmin是否验证密码登录</h1>
                <!-- <div class="post-meta">2014-11-11</div> -->
        </div>
        <article class="post-content">
            <p>为了方便开发使用，wamp默认的mysql是没有密码的。但是我们很多时候为了方便开发，与线上配置文件一致等，就需要设置数据库的密码。可能会有同学想到这里就去各种搜索，以为wamp需要什么特殊配置，其实，wamp和自己搭建的环境是一样的，只不过是wamp把各部件集中在一起，并提供了可视化操作而已。那么到底要怎么做呢？下面有两种办法可以解决。</p>
<p>一、通过phpmyadmin可视化操作</p>
<p>打开phpmyadmin，点击权限，这时页面上会显示一张用户权限表，找到用户为：root、主机为：localhost的数据行，点击后面的修改按钮，弹出详细的权限配置页面，找到里面的修改密码项， 两次输入你想修改的密码后，点击执行就完成了数据库中root@localhost权限的密码修改。也可以将其他的权限一并修改了。</p>
<p>二、通过mysql控制台进行操作</p>
<p>点击wamp，找到mysql下的控制台。</p>
<p><a href="/images/2014/11/mysql-console.jpg"><img src="/images/2014/11/mysql-console.jpg" alt="mysql-console"></a></p>
<pre><code>mysql&gt; use mysql
Database changed
mysql&gt; update user set password=PASSWORD(&#39;root&#39;) where user=&#39;root&#39;;
Query OK, 0 rows affected (0.06 sec)
Rows matched: 3  Changed: 0  Warnings: 0
mysql&gt; flush privileges;
Query OK, 0 rows affected (0.05 sec)</code></pre><p>好的，到这里为止呢，mysql的密码已经修改完成了。</p>
<p>但是呢，改完之后，我们发现phpmyadmin无法登录了。</p>
<pre><code>#1045 - Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: NO)
phpMyAdmin 尝试连接到 MySQL 服务器，但服务器拒绝连接。您应该检查配置文件中的主机、用户名和密码，并确认这些信息与 MySQL 服务器管理员所给出的信息一致。</code></pre><p>这因为，wamp下的phpmyadmin默认设置的是用户无需验证自动登录，之前配置文件中设置的是密码为空，而我们刚才把密码改过了，所以才会报错。</p>
<p>在 wamp/apps/phpmyadmin 目录下找到 config.inc.php 文件， 将 $cfg[‘Servers’][$i][‘password’] 的值修改为我们刚才设置的密码。重启wamp服务，再次访问phpmyadmin就可以了。</p>
<p><code>$cfg[&#39;Servers&#39;][$i][&#39;password&#39;] = &#39;root&#39;;</code>通常情况下，我们本地按照刚才的设置，无需验证即可登录phpmyadmin是非常方便的，但避免不了某些强迫症同学想要设置成验证登录（比如博主..）。还是修改配置文件，将登录类型由config改为cookie即可。</p>
<p><code>$cfg[&#39;Servers&#39;][$i][&#39;auth_type&#39;] = &#39;cookie&#39;; //原来为config</code>如果设置登录类型为cookies的话，之前设置的 $cfg[‘Servers’][$i][‘user’] 和 $cfg[‘Servers’][$i][‘password’] 就等同于无了，因为已经不走配置文件了。</p>
<p>可能还会出现这个问题，登录 phpmyadmin 提示“配置文件现在需要一个短语密码”，其实也没什么影响的，但是实在别扭的话也可以解决。打开 wamp\apps\phpmyadmin\libraries\config.default.php 。</p>
<p><code>$cfg[&#39;blowfish_secret&#39;] = &#39;任意字符串&#39;;</code>最后还是那句话，wamp不过是把各个部件集中在一起了，省去了我们依次安装配置的麻烦，其他的跟自己搭建的环境没什么不同，按照正常思路配置就行。</p>

        </article>
    </div>
</section>

    </main>
    <footer class="footer"> Copyright 2013 - 2019 Ruesin. All Rights Reserved </footer>
  </body>
</html>