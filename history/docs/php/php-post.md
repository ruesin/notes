---
title: 有效解决PHP使用POST提交数据不完整,数据不全的问题
date: 2014-07-15 00:11:30
categories: PHP
---

以前还真没注意过有这个问题，也是今天项目中遇到的问题，在后台form中，通过ajax请求返回了一个有很多input的form表单，提交数据后，要格式化数组时发现提交过来的数据不完整。

刚开始以为是ajax返回的表单有问题，仔细翻了几遍发现一切正常，代码是没问题的，怀疑是环境配置的问题，于是就去网上搜了下post数据大小限制，大部分说的都是设置php.ini里的上传大小限制，设置post\_max\_size和upload\_max\_filesize，心想不应该啊，就算是上万条数据也不会超过上传大小2M的限制啊，再说上传数据大小限制跟整个应该没关系吧？

死马当活马医吧，试了下果然不行…..

查了N久终于找到办法了，原来PHP从5.3.9开始 php.ini 增加一个变量 max\_input\_vars 用来限制提交的表单数量。

该值默认情况下是1000 ， 将此值改大一点就OK了！

[![php_post](/images/2014/07/php_post.jpg)](/images/2014/07/php_post.jpg)

这里我说一下，我本地的环境是5.3.13的加了这个变量也变正常了，应该是一直都有这个变量而没有在php.ini中提现出来吧。
